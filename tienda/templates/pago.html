{% extends 'base/base.html' %}
{% load static %}

{% block css %}
<style>
.boleta-container {
  max-width: 30% !important; /* Máximo 35% del ancho de la pantalla */
  background-color: #fff !important; /* Fondo blanco */
  border: 2px solid #000 !important; /* Borde sólido negro */
  border-radius: 5px !important; /* Borde redondeado */
  padding: 20px !important; /* Relleno interno */
  margin: 20px auto !important; /* Margen superior e inferior automático, centrado horizontalmente */
}

.boleta {
  margin: 0 !important; /* Eliminar margen de la boleta interna */
}

.boleta h3, .boleta h4 {
  font-weight: bold !important; /* Texto negrita */
  text-transform: uppercase !important; /* Texto en mayúsculas */
  color: black !important; /* Color de texto negro */
}

.boleta p {
  margin: 0 !important; /* Eliminar margen de los párrafos */
  font-size: 1em !important; /* Tamaño de fuente normal */
  color: black !important; /* Color de texto negro */
}

.boleta hr {
  border: 1px dashed #000 !important; /* Línea punteada negra */
}

.boleta .table {
  margin-bottom: 10px !important; /* Margen inferior de la tabla */
  width: 100% !important; /* Ancho completo */
}

.boleta .table thead th {
  border-bottom: 2px solid #000 !important; /* Borde inferior sólido */
  text-align: center !important; /* Alineación centrada */
  color: black !important; /* Color de texto negro */
}

.boleta .table tbody tr td {
  text-align: right !important; /* Alineación derecha */
  color: black !important; /* Color de texto negro */
}

.boleta .text-right {
  text-align: right !important; /* Alineación derecha para elementos de texto */
  color: black !important; /* Color de texto negro */
}

/* Ajustes para las secciones específicas */
.boleta .details {
  width: 30% !important; /* Ancho del 30% para la sección de detalles */
}

.boleta .details p {
  margin: 0 !important; /* Eliminar margen de los párrafos */
  font-size: 1em !important; /* Tamaño de fuente normal */
  color: black !important; /* Color de texto negro */
}

@media (max-width: 576px) {
  .boleta {
    padding: 10px !important; /* Reducción del relleno en pantallas pequeñas */
  }

  .boleta p,
  .boleta .text-right {
    font-size: 0.9em !important; /* Tamaño de fuente reducido */
    color: black !important; /* Color de texto negro */
  }

  .boleta h3,
  .boleta h4 {
    font-size: 1em !important; /* Tamaño de fuente normal para títulos */
    color: black !important; /* Color de texto negro */
  }

  .boleta .details {
    width: 100% !important; /* Ancho completo para detalles en pantallas pequeñas */
  }
  .boleta strong {
    font-weight: bold !important; /* Texto en negrita */
    color: black !important; /* Color de texto negro */
  }
}
</style>


{% endblock %}
{% block title %}
GalaxyMusic | Pago
{% endblock %}
{% block body %}
<div class="container">
  <h1 class="mt-5 mb-4">Realizar Pago</h1>
  {% if boleta %}
    <div class="boleta-container">
      <div class="boleta">
        <h3 class="text-center">GalaxyMusic</h3>
        <p><strong>RUT:</strong> 20992876-2</p>
        <p><strong>DIRECCIÓN:</strong> Freire 862, 8071189 San Bernardo, Región Metropolitana</p>
        <p><strong>GIRO:</strong> GalaxyMusic</p>
        <p><strong>TELÉFONO:</strong> 987231921</p>
        <h4 class="text-center">BOLETA ELECTRONICA N° 1</h4>
        <p class="text-center">S.I.I. VALPARAISO</p>
        <p class="text-center">FECHA EMISIÓN: {{ boleta.fecha_emision }}</p>
        <p><strong>Medio de Pago:</strong> Debito</p>
        <hr>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>CODIGO</th>
              <th>DESCRIPCIÓN</th>
              <th>VALOR</th>
              <th>DESC.</th>
            </tr>
          </thead>
          <tbody>
            {% for item in boleta.items %}
            <tr>
              <td>{{ item.codigo }}</td>
              <td>{{ item.producto.nombre }}</td>
              <td>{{ item.producto.precio }}</td>
              <td>{{ item.descuento }}</td>
            </tr>
            <tr>
              <td colspan="4">{{ item.cantidad }} Und x $ {{ item.producto.precio }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        <p class="text-right"><strong>SUB TOTAL:</strong> $ {{ total }}</p>
        <p class="text-right"><strong>TOTAL:</strong> $ {{ total }}</p>
        <hr>
        <p class="text-center">Timbre Electrónico SII</p>
      </div>
    </div>
  {% else %}
    <form method="post">
      {% csrf_token %}
      {{ formulario_pago.as_p }}
      <button type="submit" class="btn btn-primary">Pagar</button>
    </form>
  {% endif %}
</div>
{% endblock %}